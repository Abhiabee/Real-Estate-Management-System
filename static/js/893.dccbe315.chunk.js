/*! For license information please see 893.dccbe315.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkestate1=self.webpackChunkestate1||[]).push([[893],{2893:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v,usePlots:()=>y});var l=s(5043),a=s(2391),r=s(8615);const n=(0,s(7784).A)("LandPlot",[["path",{d:"m12 8 6-3-6-3v10",key:"mvpnpy"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12",key:"ek95tt"}],["path",{d:"m6.49 12.85 11.02 6.3",key:"1kt42w"}],["path",{d:"M17.51 12.85 6.5 19.15",key:"v55bdg"}]]);var d=s(3892),i=s(899),c=s(4795),o=s(9209),x=s(4278),m=s(6842),p=s(3248),h=s(7097),u=s(579);const j=i.Ik({name:i.Yj().required("Project name is required"),plotsize:i.Yj().required("Plot size is required"),plotprice:i.Yj().required("Plot price is required"),status:i.Yj().required("Status is required"),plotno:i.Yj().required("Plot number is required"),status:i.Yj().oneOf(["AVAILABLE","NOT_AVAILABLE"],"Invalid status").required("Status is required")});function b(e){let{setAddProjectModal:t}=e;const{user:s}=(0,o.A)(),{mutateAsync:l,isPending:a,error:r}=(()=>{const e=(0,p.jE)();return(0,h.n)({mutationFn:e=>x.A.post("/plat/management/plot",e),onSuccess:()=>{e.invalidateQueries({queryKey:["plots"]})}})})(),{projectId:n,setProjectId:i,plotId:b,setPlotId:f}=(0,m.B)();return(0,u.jsx)("div",{className:"fixed flex inset-0 items-center justify-center min-h-screen bg-black bg-opacity-50  p-4 z-50",children:(0,u.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 w-80 max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,u.jsxs)("div",{className:"flex items-center mb-4",children:[(0,u.jsx)(c.A,{className:" text-black text-2xl mr-3",size:30}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-xl font-semibold text-left",children:"Create Plot"}),(0,u.jsx)("p",{className:"text-gray-500",children:"Create a new plot by filling out the form below."})]})]}),(0,u.jsx)(d.l1,{initialValues:{name:"",plotsize:"",plotprice:"",status:"",plotno:""},validationSchema:j,validateOnChange:!1,validateOnBlur:!1,onSubmit:async(e,s)=>{let{setSubmitting:a,resetForm:n}=s;try{const s=await(async e=>{const t={landProjectId:e.name,plotNumber:e.plotno,size:e.plotsize,price:e.plotprice,status:e.status};return(await l(t)).data})(e);console.log("Project created successfully:",s),n(),t(!1)}catch(r){console.error("Error creating project:",r)}finally{a(!1)}},children:e=>{let{resetForm:s}=e;return(0,u.jsxs)(d.lV,{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-700 text-left text-xs",children:"Project ID"}),(0,u.jsx)(d.D0,{type:"text",name:"name",className:"w-full border border-gray-300 rounded-md p-2 mt-1 text-xs",placeholder:"Enter Project Name"}),(0,u.jsx)(d.Kw,{name:"name",component:"div",className:"text-red-500 text-xs text-left"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-700 text-left text-xs",children:"Plot Number"}),(0,u.jsx)(d.D0,{type:"text",name:"plotno",className:"w-full border border-gray-300 rounded-md p-2 mt-1 text-xs",placeholder:"Enter Plot Number"}),(0,u.jsx)(d.Kw,{name:"plotno",component:"div",className:"text-red-500 text-xs text-left"})]}),(0,u.jsxs)("div",{className:"flex gap-4",children:[(0,u.jsxs)("div",{className:"w-1/2",children:[(0,u.jsx)("label",{className:"block text-gray-700 text-left text-xs",children:"Plot Size"}),(0,u.jsx)(d.D0,{type:"text",name:"plotsize",className:"w-full border border-gray-300 rounded-md p-2 mt-1 text-xs",placeholder:"Enter Plot Size"}),(0,u.jsx)(d.Kw,{name:"plotsize",component:"div",className:"text-red-500 text-xs text-left"})]}),(0,u.jsxs)("div",{className:"w-1/2",children:[(0,u.jsx)("label",{className:"block text-gray-700 text-left text-xs",children:"Plot Price"}),(0,u.jsx)(d.D0,{type:"text",name:"plotprice",className:"w-full border border-gray-300 rounded-md p-2 mt-1 text-xs",placeholder:"Enter Plot Price"}),(0,u.jsx)(d.Kw,{name:"plotprice",component:"div",className:"text-red-500 text-xs text-left"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-700 text-left text-xs",children:"Status"}),(0,u.jsxs)(d.D0,{as:"select",name:"status",className:"w-full border border-gray-300 rounded-md p-2 mt-1 text-xs",children:[(0,u.jsx)("option",{value:"",children:"Select Status"}),(0,u.jsx)("option",{value:"AVAILABLE",children:"Available"}),(0,u.jsx)("option",{value:"NOT_AVAILABLE",children:"Not Available"})]}),(0,u.jsx)(d.Kw,{name:"status",component:"div",className:"text-red-500 text-xs text-left"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-gray-700 text-left text-xs",children:"Attachments (png, jpg, jpeg)"}),(0,u.jsx)(d.D0,{name:"attachments",children:e=>{let{field:t,form:s}=e;return(0,u.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",multiple:!0,onChange:e=>{const t=e.currentTarget.files,l=[];let a="";for(let s=0;s<t.length;s++){const e=t[s];"image/png"===e.type||"image/jpg"===e.type||"image/jpeg"===e.type?l.push(e):a=`"${t.name}" is not a supported image file. Only .png, .jpg, .jpeg allowed.`}a?s.setFieldError("attachments",a):(s.setFieldValue("attachments",l),s.setFieldError("attachments",""))},className:"w-full border border-gray-300 rounded-md p-2 mt-1 text-xs file:text-xs file:mr-4 file:py-1 file:px-2 file:rounded file:border-0 file:bg-gray-100 file:text-gray-700"})}}),(0,u.jsx)(d.Kw,{name:"attachments",component:"div",className:"text-red-500 text-xs text-left"})]}),(0,u.jsxs)("div",{className:"flex justify-end gap-2 flex-wrap mt-6",children:[(0,u.jsx)("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-md text-xs",children:"Create"}),(0,u.jsx)("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-xs",onClick:()=>{s(),t(!1)},children:"Cancel"})]})]})}})]})})}var f=s(1675),g=s(3747);const N=async()=>{var e;const t=await x.A.get("/plat/management/plot/filter");return null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data},y=()=>(0,g.I)({queryKey:["plots"],queryFn:N}),v=()=>{const[e,t]=(0,l.useState)(!1),{id:s}=(0,f.g)(),d=(0,f.Zp)(),{data:i=[],isLoading:c,isError:o,error:x}=y();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.A,{}),(0,u.jsx)("div",{className:"bg-gradient-to-b from-blue-700 to-white pt-4 text-center pb-12 mt-10",children:(0,u.jsxs)("div",{className:"container mx-auto p-6",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mt-2 mb-6",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Modern Residential Complex"}),(0,u.jsx)("div",{className:"flex gap-3 justify-center",children:(0,u.jsxs)("button",{className:"mt-2 md:mt-0 bg-white border border-gray-300 text-black px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 hover:text-white justify-center",onClick:()=>t(!0),children:[(0,u.jsx)(n,{size:25}),"Add Plot"]})})]}),(0,u.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 overflow-hidden mb-8",children:(0,u.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,u.jsx)("div",{className:"flex-1 h-64 lg:h-auto bg-white flex items-center justify-center",children:(0,u.jsx)("img",{src:a,alt:"Project",className:"rounded-lg w-full h-full object-cover"})}),(0,u.jsxs)("div",{className:"flex-1 px-6",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,u.jsx)("span",{className:"text-md bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"In Progress"}),(0,u.jsxs)("span",{className:"text-md text-gray-500",children:["Location: ",(0,u.jsx)("span",{className:"text-black",children:"New York, NY"})]})]}),(0,u.jsx)("p",{className:"text-md text-gray-700 mb-4 text-left",children:"A luxury residential complex with 200 apartments and premium amenities. The project features sustainable design elements, energy-efficient systems, and smart home technology. The complex includes a swimming pool, fitness center, community garden, and playground. The architecture emphasizes open spaces, natural light, and a connection to the surrounding environment."}),(0,u.jsxs)("div",{className:"text-md text-left",children:[(0,u.jsx)("h2",{className:"font-semibold mb-2",children:"Project Details"}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Project ID:"})," 1"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Start Date:"})," January 15, 2023"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Expected Completion:"})," ","December 30, 2024"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("span",{className:"font-medium",children:"Project Manager:"})," Sarah Johnson"]})]})]})]})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Available Plots"}),(0,u.jsx)("div",{className:"overflow-auto rounded-xl border",children:(0,u.jsxs)("table",{className:"min-w-full text-sm text-left border-collapse rounded-lg overflow-hidden shadow-lg",children:[(0,u.jsx)("thead",{className:"bg-blue-600 text-white",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"p-4",children:"Plot No"}),(0,u.jsx)("th",{className:"p-4",children:"Plot Size"}),(0,u.jsx)("th",{className:"p-4",children:"Plot Price"}),(0,u.jsx)("th",{className:"p-4",children:"Direction"}),(0,u.jsx)("th",{className:"p-4",children:"Actions"})]})}),(0,u.jsx)("tbody",{className:"bg-white",children:[["A-101","1,200 sq ft","$250,000","North-East"],["A-102","1,500 sq ft","$320,000","South"],["A-103","1,800 sq ft","$380,000","North-West"],["B-201","2,200 sq ft","$450,000","East"],["B-202","1,350 sq ft","$290,000","South-East"],["B-203","1,650 sq ft","$340,000","West"],["C-301","2,500 sq ft","$520,000","North"],["C-302","1,900 sq ft","$400,000","South-West"],["C-303","2,100 sq ft","$430,000","East"],["D-401","3,000 sq ft","$650,000","North-East"]].map((e=>{let[t,l,a,r]=e;return(0,u.jsxs)("tr",{className:"border-t",children:[(0,u.jsx)("td",{className:"p-4 font-medium text-gray-900",children:t}),(0,u.jsx)("td",{className:"p-4",children:l}),(0,u.jsx)("td",{className:"p-4",children:a}),(0,u.jsx)("td",{className:"p-4",children:r}),(0,u.jsx)("td",{className:"p-4 text-black hover:underline cursor-pointer",onClick:()=>{d(`/project/${s}/${t}`)},children:"View"})]},t)}))})]})}),(0,u.jsxs)("div",{className:"flex justify-between items-center mt-4 text-sm text-gray-600",children:[(0,u.jsx)("div",{children:"Showing 1-10 of 24 plots"}),(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsx)("button",{className:"px-2 py-1 border rounded",children:"< Previous"}),(0,u.jsx)("button",{className:"px-3 py-1 bg-black text-white rounded",children:"1"}),(0,u.jsx)("button",{className:"px-3 py-1 border rounded",children:"2"}),(0,u.jsx)("button",{className:"px-3 py-1 border rounded",children:"3"}),(0,u.jsx)("button",{className:"px-2 py-1 border rounded",children:"Next >"})]})]})]})]})}),e&&(0,u.jsx)(b,{setAddProjectModal:t})]})}}}]);
//# sourceMappingURL=893.dccbe315.chunk.js.map